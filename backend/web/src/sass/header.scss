.header_main {
  position: relative;
  z-index: 30;
  width: 100%;
  background-color: #fff;
  .container {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .header_left {
    width: 100%;
    max-width: rem(390px);
    position: relative;
    z-index: 30;
    display: flex;
    align-items: center;
    height: rem(129px);
    &.active {
      .nav {
        opacity: 1;
        visibility: visible;
        right: 0;
        border-right: solid rem(1px) #dfe5f3;
        border-bottom: solid rem(1px) #dfe5f3;
        transition: opacity .35s, visibility .35s, right .35s, border .35s .35s;

      }
      .close_nav {
        transition: opacity .35s .35s, visibility .35s .35s, color .35s;
        opacity: 1;
        visibility: visible;
      }
      .btn_nav {
        background-color: $colorBlue;
        border-color: #fff;
        &::before, &::after, i {
          background-color: #fff;
        }
        &::after {
          width: rem(9px);
        }
      }
    }
  }
  .btn_nav {
    display: block;
    width: rem(60px);
    height: rem(60px);
    border: rem(3px) solid $colorBlue;
    position: relative;
    margin-right: rem(29px);
    cursor: pointer;
    z-index: 3;
    background-color: transparent;
    transition: background-color .35s, border .35s;
    i {
      display: block;
      height: rem(3px);
      width: rem(20px);
      position: absolute;
      right: rem(12px);
      top: 50%;
      transform: translateY(-50%);
      background-color: $colorBlue;
      transition: .35s;
    }
    &::before, &::after {
      @include before_fig(rem(30px), rem(3px), $colorBlue);
      right: rem(12px);
      transition: .35s;

    }
    &::before {
      top: rem(14px);
    }
    &::after {
      bottom: rem(15px);
    }
    &:hover {
      background-color: $colorBlue;
      border-color: #fff;
      &::before, &::after, i {
        background-color: #fff;
      }
      &::after {
        width: rem(9px);
      }
    }
  }

  .btn_nav_title {
    color: #7280a2;
    font-size: rem(20px);
    font-weight: 700;
    line-height: 1;
    position: relative;
    z-index: 3;
    transition: .35s;
  }
  .nav {
    position: absolute;
    top: 0;
    width: rem(628px);
    min-width: 100%;
    right: 15%;
    visibility: hidden;
    opacity: 0;
    padding-top: rem(129px);
    background-color: #fff;
    display: flex;
    transition: opacity .35s, visibility .35s, right .35s, border 0s;
    justify-content: flex-end;
    border-right: solid rem(1px) transparent;
    border-bottom: solid rem(1px) transparent;
  }
  .nav_wrap {
    background-color: #fafafa;
    border-top: solid rem(1px) #dfe5f3;
    width: 100%;
    display: flex;
    justify-content: flex-end;
  }
  .nav_list {
    width: 100%;
    max-width: rem(390px);
    padding: rem(65px) 0;
  }
}

.close_nav {
  position: absolute;
  right: rem(40px);
  top: rem(40px);
  color: #d3daeb;
  font-size: rem(25px);
  cursor: pointer;
  z-index: 3;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0s, visibility 0s, color .35s;
  &:hover {
    color: $colorBlue;
  }
}

.nav_list {
  a {
    color: #7280a2;
    font-size: rem(18px);
    font-weight: 400;
    font-family: $fontMain;
    position: relative;
    z-index: 3;
    span {
      position: relative;
      z-index: 3;
    }
  }
}

.nav_elem {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  > a {
    padding: 0 rem(95px) 0 rem(60px);
    display: flex;
    width: 100%;
    align-items: center;
    min-height: rem(51px);
    margin: rem(1px) 0;
    line-height: 1;
    overflow: hidden;
    transition: .35s;
    span {
      margin-left: rem(27px);
    }
    &::before {
      @include before_fig(0, 100%, #edf1fa);
      top: 0;
      left: rem(60px);
      z-index: 1;
      opacity: 0;
      transition: width .35s, opacity .35s;
    }
  }
  i {
    position: absolute;
    color: #d3daeb;
    left: rem(15px);
    font-size: rem(30px);
    top: 50%;
    transform: translateY(-50%);
    transition: .35s;
  }
  &:hover, &.active {
    > a {
      color: $colorBlue;
      font-weight: 700;
      .notice {
        font-weight: 400;
      }
      &:before {
        width: 100%;
        opacity: 1;
      }
      i {
        color: $colorBlue;
        font-weight: 400;
      }
    }
  }
  &.hover {
    .nav_list_more {
      opacity: 1;
      visibility: visible;
    }
  }
  &:hover {
    .nav_control {
      a {
        opacity: 1;
        visibility: visible;
      }
    }
  }
}

.nav_control {
  position: absolute;
  right: rem(3px);
  top: rem(10px);
  display: flex;
  z-index: 4;
  a, span, p {
    width: rem(32px);
    height: rem(32px);
    text-align: center;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    color: #d3daeb;
    font-weight: 400;
    transition: .35s;
    font-size: rem(18px);
    margin: 0 rem(2px);
    opacity: 0;
    visibility: hidden;
    border: rem(2px) solid #d3daeb;
    &:hover {
      color: $colorBlue;
      border-color: $colorBlue;
      i {
        color: $colorBlue;
      }
    }
    i {
      font-size: rem(18px);
      position: relative;
      left: 0;
      top: 0;
      transition: color .35s;
      display: block;
      margin: auto;
      transform: none;
    }
  }
  .notice {
    background-color: $colorBlue;
    color: #fff;
    opacity: 1;
    visibility: visible;
    border: rem(2px) solid $colorBlue;
    &:hover {
      background-color: $colorBlue;
      border: rem(2px) solid $colorBlue;
      color: #fff;
    }
  }
}

.nav_list_more {
  width: calc(100% - 3.75rem);
  top: 100%;
  right: 0;
  overflow: hidden;
  transition: height .35s, opacity .35s, visibility .35s;
  li {
    border-bottom: solid rem(2px) #eef1f8;
  }
  a {
    width: 100%;
    display: flex;
    min-height: rem(50px);
    padding: rem(5px);
    background-color: #fff;
    line-height: 1.2;
    align-items: center;
    justify-content: flex-start;
    position: relative;
    transition: .35s;
    span {
      margin-left: rem(50px);
    }
    &::before {
      @include before_fig(0, 100%, #edf1fa);
      top: 0;
      right: 0;
      z-index: 1;
      opacity: 0;
      transition: width .35s, opacity .35s;
    }
    &:hover {
      color: $colorBlue;
      &::before {
        width: 100%;
        opacity: 1;
      }
    }
  }
  &.def {
    height: 0;
    opacity: 0;
    visibility: hidden;
  }
}

.header_right {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  position: relative;
  .user_data_logo {
    border-radius: 50%;
    width: rem(70px);
    height: rem(73px);
    position: relative;
    overflow: hidden;
    img {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      object-fit: cover;
    }
  }
  .user_data {
    display: flex;
    align-items: center;
  }
  .user_data_name {
    color: #7280a2;
    font-size: 20px;
    font-weight: 700;
    line-height: 1;
    margin-left: rem(20px);
  }
  .user_notice {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: rem(20px);
    position: relative;
    a, i {
      color: #d3daeb;
      margin: 0 rem(8px);
      font-size: rem(30px);
      transition: color .35s;
    }
    .user_notice_count {
      position: absolute;
      top: rem(-8px);
      right: rem(-5px);
      font-size: rem(20px);
      font-weight: 700;
      color: #e73832;
    }
    &:hover {
      a, i {
        color: $colorBlue;
      }
    }
  }
  .user_nav {
    position: absolute;
    top: 100%;
    right: 0;
    opacity: 0;
    visibility: hidden;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: rem(40px) rem(15px) rem(30px) rem(75px);
    border: rem(1px) solid #dfe5f3;
    width: rem(350px);
    background-color: #fff;
    transition: visibility .35s, top .35s, opacity .35s;
  }
  .user_nav_elem {
    color: #7280a2;
    margin-bottom: rem(18px);
    font: 400 rem(18px)/1.4 $fontMain;
    transition: color .35s;
    i {
      margin-left: rem(13px);
      font-size: rem(20px);
    }
    &:hover {
      color: $colorBlue;
    }
    &.user_exit {
      font-weight: 700;
      color: $colorBlue;
      background-color: transparent;
      border-radius: 0;
      cursor: pointer;
      border: none;
      &:hover {
        color: #000;
      }
    }
  }
  &.active {
    .user_nav {
      top: calc(100% + .8rem);
      opacity: 1;
      visibility: visible;
    }
    .btn_user {
      background-color: $colorBlue;
      &::before, &::after {
        width: rem(30px);
        background-color: #fff;
        top: rem(25px);
      }
      &::before {
        left: rem(12px);
      }
      &::after {
        right: rem(12px);
      }
    }
  }
}

.btn_user {
  display: flex;
  align-items: center;
  justify-content: center;
  width: rem(60px);
  height: rem(60px);
  border: rem(3px) solid $colorBlue;
  position: relative;
  margin-left: rem(29px);
  cursor: pointer;
  z-index: 3;
  color: $colorBlue;
  background-color: transparent;
  transition: background-color .35s, border .35s;
  &::before, &::after {
    @include before_fig(rem(15px), rem(3px), $colorBlue);
    top: rem(27px);
    border-radius: rem(1px);
    transition: .35s;
  }
  &::before {
    transform: rotate(45deg);
    left: rem(15px);
  }
  &::after {
    transform: rotate(-45deg);
    right: rem(15px);
  }
  &:hover {
    background-color: $colorBlue;
    &::before, &::after {
      background-color: #fff;
    }
  }
}

.bg_close {
  display: none;
  visibility: hidden;
  width: 100%;
  height: 100%;
  background-color: transparent;
  top: 0;
  left: 0;
  position: fixed;
  z-index: 25;
  &.active {
    display: block;
    visibility: visible;
  }
}